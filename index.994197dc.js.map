{"mappings":"imBAAA,IAAIA,EAAAC,mFAEJ,IAAIC,EAAO,GAoBXD,WAlBkBE,OAChB,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,KAelCN,WAXiBQ,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAK,oCAAuCF,UAGjDC,MCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAK,uOCAxD,IAAIC,+CAEJ,IAAIC,EAAS,YA6BJC,EAAWC,aACLA,GAAKC,QAAO,wCAAA,MAA8C,IAczEJ,WA1C4BP,GAC1B,IAAIY,EAAQJ,EAAUR,UAEjBY,IACHA,iBASA,MAAM,IAAIV,MACX,MAAQW,GACP,IAAIC,GAAO,GAASD,EAAIE,OAAOC,MAAK,kCAEpC,GAAIF,SAGKL,EAAWK,EAAQ,cAhBpBG,GACRT,EAAUR,GAAMY,GAGXA,MCZTM,EAAiBf,EAAA,SAAAgB,aAA4C,SAAYhB,EAAA,SAAAiB,QAA4C,eCArHC,EAAiBlB,EAAA,SAAAgB,aAA4C,SAAYhB,EAAA,SAAAiB,QAA4C,wBCIrGE,EAAgBC,GAC/B,MAAMC,EAAMC,SAASC,cAAa,QAElCF,EAAIG,UAAS,wLAIoBC,uCACAV,uCACAG,iBAIjCG,EAAIK,UAAUC,IAAG,4BAEKN,EAAIO,cAAa,mBACzBC,iBAAgB,SAAQ,KACpCT,EAAOU,KAAI,aAGLT,ECxBTI,EAAiBzB,EAAA,SAAAgB,aAA4C,SAAYhB,EAAA,SAAAiB,QAA4C,SCSrH,MAAMc,EAAK,CACTC,KAAI,CAEFC,YAAW,CACTC,OAAM,GACNC,aAAY,IAIdC,QAAO,GAGPC,QAAO,CAAIC,QAAS,EAAGC,cAAe,IAGxCC,UAAS,GAGTC,QAAQC,EAAcC,GACFC,KAAQC,WACbZ,YAAYU,GAAQD,GAInCI,QAAQZ,EAAgBC,GAKtB,GAD2B,SAAND,GAAiC,UAAZC,GAFb,WAAND,GAAmC,SAAZC,GAClB,UAAND,GAAkC,WAAZC,SAG1CJ,EAAMgB,UAAS,sBAQjB,GAD4B,SAANb,GAAiC,WAAZC,GAFb,WAAND,GAAmC,UAAZC,GAClB,UAAND,GAAkC,SAAZC,SAG3CJ,EAAMgB,UAAS,2BAQjB,MAH+B,WAANb,GAAmC,WAAZC,GACjB,UAAND,GAAkC,UAAZC,GAClB,SAAND,GAAiC,SAAZC,EACc,cAA1D,GAMFY,UAAUJ,GACR,MAAMK,EAAejB,EAAMc,WACrBI,EAAQD,EAAaX,QAAQM,GAAQ,EAC3CK,EAAaX,QAAQM,GAAQM,GAI/BC,mBAAmBC,GACDpB,EAAMc,WAAWT,QACzBgB,KAAKD,IAKfE,WAAWnB,EAAgBC,GACzB,MAAMF,EAAcF,EAAMc,WAAWZ,YAGrCF,EAAMU,QAAQP,EAAM,UACpBH,EAAMU,QAAQN,EAAY,gBAG1B,MAAMmB,EAASrB,EAAYC,OACrBqB,EAAetB,EAAYE,aAG3BqB,EAAWzB,EAAMe,QAAQQ,EAAQC,GAGjCE,EAAS,CACbvB,OAAQoB,EACRnB,aAAcoB,GAEhBxB,EAAMmB,mBAAmBO,GAGzB,MAAMC,EAAW3B,EAAMc,kBACvBd,EAAM4B,SAASD,GACRF,GAITX,uBACcb,MAId2B,SAASD,QACF1B,KAAO0B,EACZE,QAAQC,IAAG,sBAAwBH,OAC9B,MAAMI,KAAQlB,KAASJ,UAC1BsB,IAEFC,aAAaC,QAAO,OAAS9D,KAAK+D,UAAUP,KAI9CQ,UAAUJ,QACHtB,UAAUY,KAAKU,IAItBK,eACE,MAAMC,EAAarC,EAAMc,WACzB,GAAKkB,aAAaZ,KAEX,CACL,MAAMkB,EAAYN,aAAaO,QAAO,QAChCC,EAAkBrE,KAAKC,MAAMkE,GACnCtC,EAAMC,KAAOuC,OAJbxC,EAAM4B,SAASS,KCvHrB,MAAMI,EAAK,EAEPC,KAAI,YACJC,UAAWvD,IAGXsD,KAAI,wCACJC,UAAWvD,IAGXsD,KAAI,UACJC,mBCf0BtD,GAC7B,MAAMC,EAAMC,SAASC,cAAa,eAElCF,EAAIG,UAAS,2OAKkBC,uCACAV,uCACAG,iBAI/BG,EAAIK,UAAUC,IAAG,qBAEKN,EAAIO,cAAa,mBACzBC,iBAAgB,SAAQ,KACpCT,EAAOU,KAAI,YAGLT,KDHLoD,KAAI,SACJC,mBErByBtD,GAC5B,MAAMC,EAAMC,SAASC,cAAa,QAElCF,EAAIK,UAAUC,IAAG,kBACjB,IAAIgD,EAAU,EACVC,EAAW,WA2BLC,EAAUC,GAClB,MAAM3C,aAyCL,MAAM4C,EAAS,6BACTC,EAAeC,KAAKC,MAAuB,EAAjBD,KAAKE,SAAyB,UAE/CJ,EAAUC,GA5CDI,GAEvB/D,EAAIG,UAAS,wEAEOW,0CACA2C,qCAIvB,MAAMO,EAAehE,EAAIiE,qBAAoB,aAC7CD,EAAa,GAAGE,WAAWC,SAAS,GAAGhE,UAAS,sHAQhD6D,EAAa,GAAGE,WAAWC,SAAS,GAAGhE,UAAS,qJAShD,MAAMiE,EAAc1D,EAAMsB,WAAWyB,EAAO3C,GAS5CuD,YAAU,KALK,YAAXD,GAA2BrE,EAAOU,KAAI,aAC3B,WAAX2D,GAA0BrE,EAAOU,KAAI,YAC1B,UAAX2D,GAAyBrE,EAAOU,KAAI,aAGZ,KA9D7BT,EAAIG,UAAS,+QAoFZ,MAAMmE,EAAWC,wBARjB,MAAMC,EAAOxE,EAAImE,SAAS,GACpBM,EAAWD,EAAKN,WAAWC,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAClEb,IACAC,GAAU,KACVkB,EAASC,YAAW,GAAMpB,IAC1BkB,EAAKG,aAAY,WAAW,GAAIpB,OAGS,KAGzC,IAAIqB,SAEJA,EAAUP,YAAU,KAAMQ,cAAcP,GAAUvE,EAAOU,KAAI,cAAc,iBA7E3E,MACMqE,EADa9E,EAAIO,cAAa,qBACN4D,aACzB,MAAMY,KAAQD,EACnBC,EAAKvE,iBAAgB,QAASwE,IACxB,IAAIvB,EAASuB,EAAEC,OAAOxB,OACtBoB,cAAcP,GACdY,aAAaN,GACbP,YAAU,KAAMb,EAAUC,KAAS,QA0EzC0B,GACOnF,KF7ELoD,KAAI,YACJC,mBG3B4BtD,GAC/B,MAAMC,EAAMC,SAASC,cAAa,eAElCF,EAAIG,UAAS,8PAMbH,EAAIK,UAAUC,IAAG,qBAEEN,EAAIO,cAAa,gBACzBC,iBAAgB,SAAQ,KACjCT,EAAOU,KAAI,YAGMT,EAAIO,cAAa,kBACzBC,iBAAgB,SAAQ,KACjCT,EAAOU,KAAI,eAGLT,KHSLoD,KAAI,aACJC,mBI7BwBtD,GAC3B,MAAMqF,EAAe1E,EAAMc,WACrB6D,EAAcD,EAAapE,QAAQC,QACnCC,EAAgBkE,EAAapE,QAAQE,cAErClB,EAAMC,SAASC,cAAa,eAClCF,EAAIK,UAAUC,IAAG,iBACjBN,EAAIG,UAAS,qGAKFkF,0BACKnE,wFAMMlB,EAAIO,cAAa,mBACzBC,iBAAgB,SAAQ,KACpCT,EAAOU,KAAI,YAGLT,KJQLoD,KAAI,YACJC,mBKjC2BtD,GAC9B,MAAMqF,EAAe1E,EAAMc,WACrB6D,EAAcD,EAAapE,QAAQC,QACnCC,EAAgBkE,EAAapE,QAAQE,cAErClB,EAAMC,SAASC,cAAa,eAClCF,EAAIK,UAAUC,IAAG,kBACjBN,EAAIG,UAAS,uGAKFkF,yBACInE,wFAKOlB,EAAIO,cAAa,mBACzBC,iBAAgB,SAAQ,KACpCT,EAAOU,KAAI,YAGLT,KLaLoD,KAAI,WACJC,mBMrCyBtD,GAC5B,MAAMqF,EAAe1E,EAAMc,WACrB6D,EAAcD,EAAapE,QAAQC,QACnCC,EAAgBkE,EAAapE,QAAQE,cAErClB,EAAMC,SAASC,cAAa,eAClCF,EAAIK,UAAUC,IAAG,kBACjBN,EAAIG,UAAS,oGAKFkF,0BACKnE,wFAMMlB,EAAIO,cAAa,mBACzBC,iBAAgB,SAAQ,KACpCT,EAAOU,KAAI,YAGLT,WC1BDsF,UAAyBC,0BAE7BC,aACKC,SAEPA,SACE,IAAIC,EAAQzF,SAASC,cAAa,SAClCwF,EAAMhB,YAAW,oZAoBjB,IAAIiB,EAAMpE,KAAQqE,aAAY,CAAEC,KAAI,SACpCF,EAAOG,YAAYJ,GACnB,IAAIK,EAAO9F,SAASC,cAAa,MACjC6F,EAAK1F,UAAUC,IAAG,SAClByF,EAAKrB,YAAWnD,KAAQmD,YACxBiB,EAAOG,YAAYC,IAGvBC,eAAeC,OAAM,gBAAkBX,SAE/BY,UAA0BX,0BAE9BC,aACKC,SAEPA,SACE,IAAIC,EAAQzF,SAASC,cAAa,SAClCwF,EAAMhB,YAAW,oTAcjB,IAAIiB,EAAMpE,KAAQqE,aAAY,CAAEC,KAAI,SACpCF,EAAOG,YAAYJ,GACnB,IAAIK,EAAO9F,SAASC,cAAa,MACjC6F,EAAK1F,UAAUC,IAAG,SAClByF,EAAKrB,YAAWnD,KAAQmD,YACxBiB,EAAOG,YAAYC,IAGvBC,eAAeC,OAAM,WAAaC,SClE3BC,UAAmBZ,0BAEtBC,aACKC,SAEPA,SACE,IAAIC,EAAQzF,SAASC,cAAa,SAClCwF,EAAMhB,YAAW,qjBA4BjB,IAAIiB,EAAMpE,KAAQqE,aAAY,CAAEC,KAAI,SACpCF,EAAOG,YAAYJ,GAEnB,IAAIU,EAAanG,SAASC,cAAa,UACvCkG,EAAW/F,UAAUC,IAAG,UACxB8F,EAAW1B,YAAWnD,KAAQmD,YAE9BiB,EAAOG,YAAYM,IAGvBJ,eAAeC,OAAM,cAAgBE,SC7C/BE,UAAqBd,0BAKvBC,QACA,MAAMc,EAAM/E,KAAYgF,aAAY,UAC9BC,EAAMjF,KAAYgF,aAAY,eAC/BE,UAAS,gBACd,IAAInC,EAAQ/C,KAAQgF,aAAY,YAChC,MAAMG,EAAmBF,EAAkB,EAATF,OAC7BK,eAAoC,EAAnBD,EAAuB9C,KAAKgD,QAE7CC,KAAItF,KAAQqE,aAAY,CAAEC,KAAI,SACnC,MAAM7F,EAAMC,SAASC,cAAa,OAElCF,EAAIG,UAAS,iCAEU,EAATqG,sBACQ,EAATA,+IAMPlC,0FAKmB/C,KAAOoF,kBAAgBpF,KAAOoF,wDACvBpF,KAAOoF,6CAChBL,oDAEXI,sBACCF,sBACAA,2RAcRK,KAAKf,YAAY9F,GAGxB8G,YAAYC,GACV,MAAMC,EAAMzF,KAAQoF,eAAkBI,EAAU,IAAGxF,KAAQoF,eAC/CpF,KAAQsF,KAAKtG,cAAa,UAC/BmF,MAAMuB,iBAAgB,GAAMD,uDAOrCE,yBAAyBC,EAAMC,EAAUC,GAC/B,aAAJF,GAAmB5F,KAChBuF,YAAYO,IAKvBC,OAAOtB,eAAeC,OAAM,gBAAkBI,SClExCkB,UAAiBhC,0BAKnBC,aACKG,OAAMpE,KAAQqE,aAAY,CAAGC,KAAI,cACjCpC,OAAMlC,KAAQgF,aAAY,UAGjCiB,oBACE,MAAM9B,EAAQzF,SAASC,cAAa,SACpCwF,EAAMvF,UAAS,8MAeA,SAAboB,KAAOkC,SAAiBlC,KACnBkG,IAAM5H,GAEE,WAAb0B,KAAOkC,SAAmBlC,KACrBkG,IAAMrH,GAEE,UAAbmB,KAAOkC,SAAkBlC,KACpBkG,IAAM/H,QAGRiG,OAAOG,YAAYJ,QACnBD,SAGPA,SACE,MAAMzF,EAAMC,SAASC,cAAa,OAC5BuH,EAAMxH,SAASC,cAAa,OAElCuH,EAAI9C,aAAY,MAAMpD,KAAOkG,KAC7BA,EAAIpH,UAAUC,IAAG,QACjBN,EAAI8F,YAAY2B,GAEhBzH,EAAIQ,iBAAgB,SAAQ,KAC1BiH,EAAI/B,MAAMgC,OAAM,MAEhB,IAAIC,EAAQ,IAAIC,YAAW,OAAO,CAChC3C,OAAM,CACJxB,OAAMlC,KAAOkC,eAGZoE,cAAcF,WAGhBhC,OAAOG,YAAY9F,IAG5BgG,eAAeC,OAAM,YAAcsB,cC3DjC7G,EAAMoC,eACNP,QAAQC,IAAG,kBXkCcsF,YAChBrH,EAAK2C,GACZrC,QAAQgH,UAAS,MAAS3E,GAC1B4E,EAAY5E,YAGL4E,EAAYC,GACnBH,EAAU3H,UAAS,OAEd,MAAM+H,KAAK/E,EACd,GAAI+E,EAAE9E,KAAK+E,KAAKF,GAAQ,CACtB,MAAMG,EAAKF,EAAE7E,UAAS,CAAG5C,KAAMA,IAC/BqH,EAAUhC,YAAYsC,IAKP,KAAjBC,SAASC,SACX7H,EAAI,YAEJuH,EAAYK,SAASC,UAGnBD,SAASE,KAAKC,SAAQ,cACxB/H,EAAI,wCAMN6G,OAAOmB,WAAU,KACfT,EAAYK,SAASC,WW/DvBI,CADezI,SAASM,cAAa","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b8426094cebe4521.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-b30e59bead324254.js","node_modules/@parcel/runtime-js/lib/runtime-8294ad77ff99736d.js","src/pages/welcome/index.ts","node_modules/@parcel/runtime-js/lib/runtime-3bc40e1aee0b02e8.js","src/state.ts","src/router.ts","src/pages/instructions/index.ts","src/pages/game/index.ts","src/pages/timeout/index.ts","src/pages/win/index.ts","src/pages/defeat/index.ts","src/pages/draw/index.ts","src/components/titles/index.ts","src/components/buttons/index.ts","src/components/ring/index.ts","src/components/hands/index.ts","src/index.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"di8mO\\\":\\\"index.994197dc.js\\\",\\\"dAj42\\\":\\\"piedra.e502b484.svg\\\",\\\"8TyOu\\\":\\\"papel.f1c8e36e.svg\\\",\\\"af5bb\\\":\\\"tijera.13f0ed95.svg\\\"}\"));","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"dAj42\");","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"8TyOu\");","const piedraImg = require(\"url:../../assets/piedra.svg\");\r\nconst papelImg = require(\"url:../../assets/papel.svg\");\r\nconst tijerasIMG = require(\"url:../../assets/tijera.svg\");\r\n\r\nexport function initWelcomePage(params){\r\n const div = document.createElement(\"main\")\r\n\r\n div.innerHTML = `\r\n <welcome-title>Piedra Papel o Tijera</welcome-title>\r\n <menu-button class=\"welcome-button\">Empezar</menu-button>\r\n <div class=\"hands-container\">\r\n <img class=\"welcome-hands\" src=${tijerasIMG}>\r\n <img class=\"welcome-hands\" src=${piedraImg}>\r\n <img class=\"welcome-hands\" src=${papelImg}>\r\n </div>\r\n `\r\n\r\n div.classList.add(\"welcome-container\")\r\n\r\n const welcomeButton = div.querySelector(\".welcome-button\")\r\n welcomeButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/index\")\r\n })\r\n\r\n  return div\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"af5bb\");","//TYPES\r\ntype Jugada = \"piedra\" | \"papel\" | \"tijeras\";\r\ntype User = \"myPlay\" | \"computerPlay\";\r\ntype Score = \"myScore\" | \"computerScore\";\r\ntype Game = {\r\n  myPlay: Jugada;\r\n  computerPlay: Jugada;\r\n};\r\n\r\nconst state = {\r\n  data: {\r\n    // SE GUARDA LA JUGADA EN EL MOMENTO\r\n    currentGame: {\r\n      myPlay: \"\",\r\n      computerPlay: \"\",\r\n    },\r\n\r\n    // SE GUARDAN OBJETOS DENTRO DEL ARRAY CON LAS JUGADAS HECHAS\r\n    history: [],\r\n\r\n    // SE GUARDAN LOS RESULTADOS FINALES\r\n    results: { myScore: 0, computerScore: 0 },\r\n  },\r\n\r\n  listeners: [],\r\n\r\n  // 1 - SETEA/DEFINE LA JUGADA REALIZADA\r\n  setMove(move: Jugada, user: User) {\r\n    const currentState = this.getState();\r\n    currentState.currentGame[user] = move;\r\n  },\r\n\r\n  // 2 - DEFINE QUIEN GANO LA PARTIDA EN BASE A SET MOVE\r\n  whoWins(myPlay: Jugada, computerPlay: Jugada) {\r\n    //JUGADAS DE VICTORIA\r\n    const ganeConTijeras = myPlay == \"tijeras\" && computerPlay == \"papel\";\r\n    const ganeConPiedra = myPlay == \"piedra\" && computerPlay == \"tijeras\";\r\n    const ganeConPapel = myPlay == \"papel\" && computerPlay == \"piedra\";\r\n    if (ganeConPapel || ganeConTijeras || ganeConPiedra) {\r\n      state.setPoints(\"myScore\");\r\n      return \"victoria\";\r\n    }\r\n\r\n    //JUGADAS DE DERROTA\r\n    const perdiConTijeras = myPlay == \"tijeras\" && computerPlay == \"piedra\";\r\n    const perdiConPiedra = myPlay == \"piedra\" && computerPlay == \"papel\";\r\n    const perdiConPapel = myPlay == \"papel\" && computerPlay == \"tijeras\";\r\n    if (perdiConPapel || perdiConTijeras || perdiConPiedra) {\r\n      state.setPoints(\"computerScore\");\r\n      return \"derrota\";\r\n    }\r\n\r\n    //EMPATES\r\n    const empateConTijeras = myPlay == \"tijeras\" && computerPlay == \"tijeras\";\r\n    const empateConPiedras = myPlay == \"piedra\" && computerPlay == \"piedra\";\r\n    const empateConPapel = myPlay == \"papel\" && computerPlay == \"papel\";\r\n    if (empateConTijeras || empateConPiedras || empateConPapel) {\r\n      return \"empate\";\r\n    }\r\n  },\r\n\r\n  // 3 - AGREGA UN PUNTO, SE PASA QUIEN GANO COMO PARAMETRO\r\n  setPoints(user: Score) {\r\n    const CurrentState = state.getState();\r\n    const score = CurrentState.results[user] + 1;\r\n    CurrentState.results[user] = score;\r\n  },\r\n\r\n  // 4- AGREGA LA PARTIDA AL HISTORIAL\r\n  pushNewGameHistory(game: Game) {\r\n    const history = state.getState().history;\r\n    history.push(game);\r\n  },\r\n\r\n  //DEFINE LA NUEVA JUGADA EN BASE A LOS ANTERIORES METODOS\r\n  //PUEDE SER UTILIZADO O NO\r\n  definePlay(myPlay: Jugada, computerPlay: Jugada) {\r\n    const currentGame = state.getState().currentGame;\r\n\r\n    // 1 - SETEA LOS MOVIMIENTOS\r\n    state.setMove(myPlay, \"myPlay\");\r\n    state.setMove(computerPlay, \"computerPlay\");\r\n\r\n    //CAPTURA LOS MOVIMIENTOS\r\n    const myMove = currentGame.myPlay;\r\n    const computerMove = currentGame.computerPlay;\r\n\r\n    // 2 y 3 - DEFINE QUIEN GANA\r\n    const resulado = state.whoWins(myMove, computerMove);\r\n\r\n    // 4 - CREA UN REGISTRO DEL JUEGO Y LO AGREGA AL HISTORIAL\r\n    const newRecord = {\r\n      myPlay: myMove,\r\n      computerPlay: computerMove,\r\n    };\r\n    state.pushNewGameHistory(newRecord);\r\n\r\n    //CREA EL NUEVO ESTADO\r\n    const newState = state.getState();\r\n    state.setState(newState);\r\n    return resulado;\r\n  },\r\n\r\n  //GETTER\r\n  getState() {\r\n    return this.data;\r\n  },\r\n\r\n  //SETTER\r\n  setState(newState) {\r\n    this.data = newState;\r\n    console.log(\"El nuevo estado es:\", newState);\r\n    for (const callback of this.listeners) {\r\n      callback();\r\n    }\r\n    localStorage.setItem(\"game\", JSON.stringify(newState));\r\n  },\r\n\r\n  //SUBSCRIBER\r\n  subscribe(callback: (any) => any) {\r\n    this.listeners.push(callback);\r\n  },\r\n\r\n  //SI NO HAY REGISTRO DE \"GAME\", SE ASEGURA DE INICIAR EL STATE VACIO\r\n  restoreState() {\r\n    const firstState = state.getState();\r\n    if (!localStorage.game) {\r\n      state.setState(firstState);\r\n    } else {\r\n      const lastState = localStorage.getItem(\"game\");\r\n      const lastStateParsed = JSON.parse(lastState);\r\n      state.data = lastStateParsed;\r\n    }\r\n  },\r\n};\r\n\r\nexport { state };\r\n","import { initWelcomePage } from \"./pages/welcome\";\r\nimport { initIndexPage } from \"./pages/instructions\";\r\nimport { initGamePage } from \"./pages/game\";\r\nimport { initWinPage } from \"./pages/win\";\r\nimport { initDefeatPage } from \"./pages/defeat\";\r\nimport { initTimeoutPage } from \"./pages/timeout\";\r\nimport { initDrawPage } from \"./pages/draw\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: /\\/welcome/,\r\n    component: initWelcomePage,\r\n  },\r\n  {\r\n    path: /\\/Piedra-Papel-o-Tijera-Single-Player/,\r\n    component: initWelcomePage,\r\n  },\r\n  {\r\n    path: /\\/index/,\r\n    component: initIndexPage,\r\n  },\r\n  {\r\n    path: /\\/game/,\r\n    component: initGamePage,\r\n  },\r\n  {\r\n    path: /\\/timeout/,\r\n    component: initTimeoutPage,\r\n  },\r\n  {\r\n    path: /\\/victoria/,\r\n    component: initWinPage,\r\n  },\r\n  {\r\n    path: /\\/derrota/,\r\n    component: initDefeatPage,\r\n  },\r\n  {\r\n    path: /\\/empate/,\r\n    component: initDrawPage,\r\n  },\r\n];\r\n\r\nexport function initRouter(container: Element) {\r\n  function goTo(path) {\r\n    history.pushState({}, \"\", path);\r\n    handleRoute(path);\r\n  }\r\n\r\n  function handleRoute(route) {\r\n    container.innerHTML = \"\";\r\n\r\n    for (const r of rutas) {\r\n      if (r.path.test(route)) {\r\n        const el = r.component({ goTo: goTo });\r\n        container.appendChild(el);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (location.pathname == \"/\") {\r\n    goTo(\"/welcome\");\r\n  } else {\r\n    handleRoute(location.pathname);\r\n  }\r\n\r\n  if (location.host.includes(\"github.io\")) {\r\n    goTo(\"/Piedra-Papel-o-Tijera-Single-Player\");\r\n  }\r\n\r\n  //ESTO LO BORRE AL PRINCIPIO PERO PUEDE QUEDAR LUEGO\r\n  /* handleRoute(location.pathname) */\r\n\r\n  window.onpopstate = () => {\r\n    handleRoute(location.pathname);\r\n  };\r\n}\r\n","const piedraImg = require(\"url:../../assets/piedra.svg\");\r\nconst papelImg = require(\"url:../../assets/papel.svg\");\r\nconst tijerasIMG = require(\"url:../../assets/tijera.svg\");\r\n\r\nexport function initIndexPage(params){\r\n const div = document.createElement(\"main\")\r\n\r\n div.innerHTML = `\r\n <in-title>Presioná jugar\r\n y elegí: piedra, papel o tijera antes de que pasen los 3 segundos.</in-title>\r\n <menu-button class=\"welcome-button\">Jugar!</menu-button>\r\n <div class=\"hands-container\">\r\n <img class=\"welcome-hands\" src=${tijerasIMG}>\r\n <img class=\"welcome-hands\" src=${piedraImg}>\r\n <img class=\"welcome-hands\" src=${papelImg}>\r\n </div>\r\n `\r\n\r\n div.classList.add(\"welcome-container\")\r\n\r\n const welcomeButton = div.querySelector(\".welcome-button\")\r\n welcomeButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/game\")\r\n })\r\n\r\n  return div\r\n}","import {state} from \"../../state\"\r\n\r\nexport function initGamePage(params){\r\n const div = document.createElement(\"main\")\r\n \r\n div.classList.add(\"game-container\")\r\n let counter = 3\r\n let progress = 0\r\n \r\n div.innerHTML = `\r\n <progress-ring stroke=\"20\" radius=\"150\" progress=\"0\" contador=\"3\"></progress-ring>\r\n  \r\n  <div class=\"player-container\"></>\r\n  <hand-comp jugada=\"tijeras\"></hand-comp>\r\n  <hand-comp jugada=\"papel\"></hand-comp>\r\n  <hand-comp jugada=\"piedra\"></hand-comp>\r\n  </div>\r\n `\r\n\r\n  //RECIBE EL EVENTO CON LA JUGADA EL JUGADOR\r\n  function playListener(){\r\n  const playerCont = div.querySelector(\".player-container\")\r\n  const handsArray = playerCont.children\r\n  for (const hand of handsArray) {\r\n  hand.addEventListener(\"play\",(e:any)=>{\r\n        let jugada = e.detail.jugada\r\n        clearInterval(contador)\r\n        clearTimeout(timeout)\r\n        setTimeout(()=>{handsPlay(jugada)},1000)\r\n      })\r\n     }\r\n    }\r\n\r\n  //GENERA LA ESCENA DEL JUEGO Y LE COMUNICA EL GANADOR AL ESTADO\r\n  function handsPlay(jugada){\r\n   const computerPlay:any = randomPlay()\r\n\r\n     div.innerHTML = `\r\n     <div class=\"final-game-container\"></>\r\n     <hand-comp jugada=${computerPlay}></hand-comp>\r\n     <hand-comp jugada=${jugada}></hand-comp>\r\n     </div>\r\n     `\r\n\r\n  const handPlayerEl = div.getElementsByTagName(\"hand-comp\")\r\n  handPlayerEl[1].shadowRoot.children[0].innerHTML = `\r\n    .hand{\r\n      height: 240px;\r\n      position: absolute;\r\n      bottom: 5%;\r\n      cursor: pointer;\r\n    }\r\n  `\r\n  handPlayerEl[0].shadowRoot.children[0].innerHTML = `\r\n    .hand{\r\n      height: 220px;\r\n      position: absolute;\r\n      top: 5%;\r\n      cursor: pointer;\r\n      transform: rotate(180deg);\r\n    }\r\n  `\r\n  const finalResult = state.definePlay(jugada,computerPlay)\r\n  \r\n  //TE REDIRECCIONA AL RESULTADO FINAL\r\n  function redirect(){\r\n  if (finalResult == \"victoria\"){params.goTo(\"/victoria\")}\r\n  if (finalResult == \"derrota\"){params.goTo(\"/derrota\")}\r\n  if (finalResult == \"empate\"){params.goTo(\"/empate\")}}\r\n\r\n  //LA ACTIVA A LOS 2 SEGUNDOS DE DEVOLVER EL RESLULTADO\r\n  setTimeout(()=>{redirect()},2000)\r\n  }\r\n \r\n  //GENERA UN RESULTADO RANDOM DE UNA JUGADA\r\n  function randomPlay(){\r\n    const playArray = [\"piedra\",\"papel\",\"tijeras\"]\r\n    const randomNumber = Math.floor(Math.random() * (2 - 0 + 1) + 0)\r\n\r\n    const result = playArray[randomNumber]\r\n    return result\r\n  }\r\n  \r\n  //INICIA UNA CUENTA ATRAS Y HACE PROGRESAR LA BARRA\r\n  function counterInit() {\r\n  const ring = div.children[0]\r\n  const ringText = ring.shadowRoot.children[0].children[0].children[0]\r\n  counter--,\r\n  progress+=33.3,\r\n  ringText.textContent = `${counter}`,\r\n  ring.setAttribute(\"progress\",`${progress}`)}\r\n\r\n  // HACE PROGRESAR LA RUEDA Y REDUCE EL CONTADOR\r\n  const contador = setInterval(counterInit,1000)\r\n \r\n  // A LOS 3 SEG CORTA EL INTERVALO\r\n  var timeout\r\n  function setTimeOut() {\r\n  timeout = setTimeout(()=>{clearInterval(contador),params.goTo(\"/timeout\")},3999)\r\n  }\r\n\r\n  setTimeOut()\r\n  playListener()\r\n  return div\r\n}","export function initTimeoutPage(params){\r\n const div = document.createElement(\"main\")\r\n\r\n div.innerHTML = `\r\n <in-title>Te quedaste sin tiempo! Acordate de elegir alguna jugada antes que se acaben los 3 segundos.</in-title>\r\n <menu-button class=\"play-button\">Volver a jugar</menu-button>\r\n <menu-button class=\"return-button\">Regresar al menu</menu-button>\r\n `\r\n\r\n div.classList.add(\"timeout-container\")\r\n\r\n const playButton = div.querySelector(\".play-button\")\r\n playButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/game\")\r\n })\r\n\r\n const menuButton = div.querySelector(\".return-button\")\r\n menuButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/welcome\")\r\n })\r\n\r\n  return div\r\n}","import {state} from \"../../state\"\r\n\r\nexport function initWinPage(params){\r\n const currentState = state.getState()\r\n const playerScore = currentState.results.myScore\r\n const computerScore = currentState.results.computerScore\r\n\r\n const div = document.createElement(\"main\")\r\n div.classList.add(\"win-container\")\r\n div.innerHTML = `\r\n\r\n <div class=\"win-star\">Ganaste!</div>\r\n <div class=\"score-table\">\r\n <h3>Score</h3>\r\n <h4>Vos: ${playerScore}</h4>\r\n <h4>Maquina:  ${computerScore}</h4>\r\n </div>\r\n <menu-button class=\"welcome-button\">Volver a jugar</menu-button>\r\n `\r\n\r\n\r\n const welcomeButton = div.querySelector(\".welcome-button\")\r\n welcomeButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/game\")\r\n })\r\n\r\n  return div\r\n}","import {state} from \"../../state\"\r\n\r\nexport function initDefeatPage(params){\r\n const currentState = state.getState()\r\n const playerScore = currentState.results.myScore\r\n const computerScore = currentState.results.computerScore\r\n\r\n const div = document.createElement(\"main\")\r\n div.classList.add(\"loss-container\")\r\n div.innerHTML = `\r\n\r\n <div class=\"loss-star\">Perdiste!</div>\r\n <div class=\"score-table\">\r\n <h3>Score</h3>\r\n <h4>Vos: ${playerScore}</h4>\r\n <h4>Maquina: ${computerScore}</h4>\r\n </div>\r\n <menu-button class=\"welcome-button\">Volver a jugar</menu-button>\r\n `\r\n\r\n const welcomeButton = div.querySelector(\".welcome-button\")\r\n welcomeButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/game\")\r\n })\r\n\r\n  return div\r\n}","import {state} from \"../../state\"\r\n\r\nexport function initDrawPage(params){\r\n const currentState = state.getState()\r\n const playerScore = currentState.results.myScore\r\n const computerScore = currentState.results.computerScore\r\n\r\n const div = document.createElement(\"main\")\r\n div.classList.add(\"draw-container\")\r\n div.innerHTML = `\r\n\r\n <div class=\"win-star\">Empate!</div>\r\n <div class=\"score-table\">\r\n <h3>Score</h3>\r\n <h4>Vos: ${playerScore}</h4>\r\n <h4>Maquina:  ${computerScore}</h4>\r\n </div>\r\n <menu-button class=\"welcome-button\">Volver a jugar</menu-button>\r\n `\r\n\r\n\r\n const welcomeButton = div.querySelector(\".welcome-button\")\r\n welcomeButton.addEventListener(\"click\",()=>{\r\n   params.goTo(\"/game\")\r\n })\r\n\r\n  return div\r\n}","  class WelcomePageTitle extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.render()\r\n  }\r\n  render(){\r\n    var style = document.createElement(\"style\")\r\n    style.textContent = `\r\n    .title{\r\n      margin: 0;\r\n      box-sizing: border-box;\r\n      font-family: 'Zilla Slab', serif;\r\n      font-weight: 700;\r\n      text-shadow: 0 0 2px black;\r\n      font-size: 75px;\r\n      color: #009048;\r\n      width: 260px;\r\n      letter-spacing: 2px\r\n    }\r\n\r\n    @media (min-width: 750px){\r\n          .title{\r\n            font-size: 80px;\r\n            width: 270px;\r\n          }\r\n    }\r\n    `\r\n    var shadow = this.attachShadow({mode: 'open'});\r\n    shadow.appendChild(style)\r\n    var text = document.createElement(\"h1\")\r\n    text.classList.add(\"title\")\r\n    text.textContent = this.textContent\r\n    shadow.appendChild(text)\r\n  }\r\n}\r\ncustomElements.define('welcome-title', WelcomePageTitle);\r\n\r\n  class InstructionsTitle extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.render()\r\n  }\r\n  render(){\r\n    var style = document.createElement(\"style\")\r\n    style.textContent = `\r\n    .title{\r\n      box-sizing: border-box;\r\n      margin: 0 auto;\r\n      font-family: 'Zilla Slab', serif;\r\n      text-align: center;\r\n      font-style: normal;\r\n      font-weight: 600;\r\n      text-shadow: 0 0 1.5px black;\r\n      font-size: 45px;\r\n      color: #000000;\r\n      width: 380px;\r\n    }\r\n    `\r\n    var shadow = this.attachShadow({mode: 'open'});\r\n    shadow.appendChild(style)\r\n    var text = document.createElement(\"h1\")\r\n    text.classList.add(\"title\")\r\n    text.textContent = this.textContent\r\n    shadow.appendChild(text)\r\n  }\r\n}\r\ncustomElements.define('in-title', InstructionsTitle);"," class MenuButton extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.render()\r\n  }\r\n  render(){\r\n    var style = document.createElement(\"style\")\r\n    style.textContent = `\r\n    .button{\r\n      background-color: #006CFC;\r\n      border: 10px solid #001997;\r\n      box-sizing: border-box;\r\n      border-radius: 15px;\r\n      height: 80px;\r\n      width: 310px;\r\n      font-family: Odibee Sans;\r\n      font-size: 45px;\r\n      line-height: 50px;\r\n      color: #D8FCFC;\r\n      cursor: pointer;\r\n      letter-spacing: 1px;\r\n    }\r\n\r\n    .button:active{\r\n      background-color: #001997;\r\n      border: 10px solid #006CFC;\r\n      color: white\r\n    }\r\n    \r\n   @media (min-width: 750px){\r\n     .button{\r\n       width: 340px;\r\n     }\r\n   }\r\n    `\r\n    var shadow = this.attachShadow({mode: 'open'});\r\n    shadow.appendChild(style)\r\n\r\n    var menuButton = document.createElement(\"button\")\r\n    menuButton.classList.add(\"button\")\r\n    menuButton.textContent = this.textContent\r\n  \r\n    shadow.appendChild(menuButton)\r\n  }\r\n}\r\ncustomElements.define('menu-button', MenuButton);","class ProgressRing extends HTMLElement {\r\n  _circumference:any\r\n  root:ShadowRoot\r\n  contador:any\r\n  constructor() {\r\n    super();\r\n    const stroke:any = this.getAttribute('stroke');\r\n    const radius:any = this.getAttribute('radius');\r\n    this.className = \"progress-ring\"\r\n    let contador = this.getAttribute(\"contador\")\r\n    const normalizedRadius = radius - stroke * 2;\r\n    this._circumference = normalizedRadius * 2 * Math.PI;\r\n\r\n    this.root = this.attachShadow({mode: 'open'});\r\n    const div = document.createElement(\"div\")\r\n\r\n    div.innerHTML = `\r\n      <svg\r\n        height=\"${radius * 2}\"\r\n        width=\"${radius * 2}\"\r\n       >\r\n        <text x=\"120\" y=\"180\"\r\n        font-weight=\"600\"\r\n        font-family=\"Zilla Slab\"\r\n        font-size=\"110\">\r\n        ${contador}\r\n  </text>\r\n\r\n      <circle\r\n           stroke=\"black\"\r\n           stroke-dasharray=\"${this._circumference} ${this._circumference}\"\r\n           style=\"stroke-dashoffset:${this._circumference}\"\r\n           stroke-width=\"${stroke}\"\r\n           fill=\"transparent\"\r\n           r=\"${normalizedRadius}\"\r\n           cx=\"${radius}\"\r\n           cy=\"${radius}\"\r\n        />\r\n      </svg>\r\n\r\n      <style>\r\n        circle {\r\n          backgrund: none;\r\n          transition: stroke-dashoffset 0.35s;\r\n          transform: rotate(-90deg);\r\n          transform-origin: 50% 50%;\r\n          overflow: auto:\r\n        }\r\n      </style>\r\n    `;\r\n    this.root.appendChild(div)\r\n  }\r\n  \r\n  setProgress(percent) {\r\n    const offset = this._circumference - (percent / 100 * this._circumference);\r\n    const circle = this.root.querySelector('circle');\r\n    circle.style.strokeDashoffset = `${offset}`; \r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['progress'];\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (name === 'progress') {\r\n      this.setProgress(newValue);\r\n    }\r\n  }\r\n}\r\n\r\nwindow.customElements.define('progress-ring', ProgressRing);\r\n","const piedraImg = require(\"url:../../assets/piedra.svg\");\r\nconst papelImg = require(\"url:../../assets/papel.svg\");\r\nconst tijerasIMG = require(\"url:../../assets/tijera.svg\");\r\n\r\nclass RockHand extends HTMLElement {\r\n  shadow: ShadowRoot;\r\n  jugada: string;\r\n  img: any;\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: \"open\" });\r\n    this.jugada = this.getAttribute(\"jugada\");\r\n  }\r\n\r\n  connectedCallback() {\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n    .hand{\r\n      height: 160px;\r\n      position: absolute;\r\n      bottom: -3%;\r\n      cursor: pointer;\r\n    }\r\n\r\n    @media (min-width: 750px){\r\n      .hand{\r\n        height: 240px\r\n      }\r\n    }\r\n  `;\r\n    //LE DOY LA IMAGEN AL COMP CON EL ATRIBUTO JUGADA\r\n    if (this.jugada == \"papel\") {\r\n      this.img = papelImg;\r\n    }\r\n    if (this.jugada == \"tijeras\") {\r\n      this.img = tijerasIMG;\r\n    }\r\n    if (this.jugada == \"piedra\") {\r\n      this.img = piedraImg;\r\n    }\r\n\r\n    this.shadow.appendChild(style);\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    const div = document.createElement(\"div\");\r\n    const img = document.createElement(\"img\");\r\n    //LE AGREGO LA IMAGEN EN RELACION AL ATRIBUTO JUGADA\r\n    img.setAttribute(\"src\", this.img);\r\n    img.classList.add(\"hand\");\r\n    div.appendChild(img);\r\n\r\n    div.addEventListener(\"click\", () => {\r\n      img.style.bottom = \"10%\";\r\n\r\n      var event = new CustomEvent(\"play\", {\r\n        detail: {\r\n          jugada: this.jugada,\r\n        },\r\n      });\r\n      this.dispatchEvent(event);\r\n    });\r\n\r\n    this.shadow.appendChild(div);\r\n  }\r\n}\r\ncustomElements.define(\"hand-comp\", RockHand);\r\n","import { initRouter } from \"./router\";\r\nimport { state } from \"./state\";\r\nimport \"./components/titles\";\r\nimport \"./components/buttons\";\r\nimport \"./components/ring\";\r\nimport \"./components/hands\";\r\n\r\n(function () {\r\n  state.restoreState();\r\n  console.log(\"hola\")\r\n  const rootEl = document.querySelector(\".root\");\r\n  initRouter(rootEl);\r\n})();\r\n"],"names":["$5b2b3cdd5d136d36$export$40339995e8a21591","$5b2b3cdd5d136d36$export$357eb1b4f03c1402","$5b2b3cdd5d136d36$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f3d8ccfa2247eb90$export$da289beea9c5b10d","$f3d8ccfa2247eb90$var$bundleURL","$f3d8ccfa2247eb90$var$getBaseURL","url","replace","value","err","matches","stack","match","$f3d8ccfa2247eb90$var$getBundleURL","$d7f0d11d32869419$exports","getBundleURL","resolve","$b72cf5b11f32d9b2$exports","$a44b525f50a51040$export$e1a69f776931ae1b","params","div","document","createElement","innerHTML","$882bb033545653c9$exports","classList","add","querySelector","addEventListener","goTo","$792e4afce125cd80$export$c837a8b98c265ae3","data","currentGame","myPlay","computerPlay","history","results","myScore","computerScore","listeners","setMove","move","user","this","getState","whoWins","setPoints","CurrentState","score","pushNewGameHistory","game","push","definePlay","myMove","computerMove","resulado","newRecord","newState","setState","console","log","callback","localStorage","setItem","stringify","subscribe","restoreState","firstState","lastState","getItem","lastStateParsed","$1f0246c3bb9f020c$var$rutas","path","component","counter","progress","handsPlay","jugada","playArray","randomNumber","Math","floor","random","randomPlay","handPlayerEl","getElementsByTagName","shadowRoot","children","finalResult","setTimeout","contador","setInterval","ring","ringText","textContent","setAttribute","timeout","clearInterval","handsArray","hand","e","detail","clearTimeout","playListener","currentState","playerScore","$bc832c5cc5126136$var$WelcomePageTitle","HTMLElement","super","render","style","shadow","attachShadow","mode","appendChild","text","customElements","define","$bc832c5cc5126136$var$InstructionsTitle","$460570cf6e9a8ff0$var$MenuButton","menuButton","$e9f09ae7e0973cb5$var$ProgressRing","stroke","getAttribute","radius","className","normalizedRadius","_circumference","PI","root","setProgress","percent","offset","strokeDashoffset","attributeChangedCallback","name","oldValue","newValue","window","$08fd2a1162e27938$var$RockHand","connectedCallback","img","bottom","event","CustomEvent","dispatchEvent","container","pushState","handleRoute","route","r","test","el","location","pathname","host","includes","onpopstate","$1f0246c3bb9f020c$export$f03b0d45d4202f55"],"version":3,"file":"index.994197dc.js.map"}