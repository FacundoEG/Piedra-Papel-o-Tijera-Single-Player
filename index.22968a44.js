function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired5de;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired5de=r),r.register("7PhYn",(function(t,n){var o,r;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("7PhYn").register(JSON.parse('{"di8mO":"index.22968a44.js","dAj42":"piedra.e502b484.svg","8TyOu":"papel.f1c8e36e.svg","af5bb":"tijera.13f0ed95.svg"}'));var a;r.register("kVZsc",(function(t,n){var o;e(t.exports,"getBundleURL",(()=>o),(e=>o=e));var r={};function a(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),r[e]=t),t}})),a=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("dAj42");var s;s=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("8TyOu");var i;function c(e){const t=document.createElement("main");t.innerHTML=`\n <welcome-title>Piedra Papel o Tijera</welcome-title>\n <menu-button class="welcome-button">Empezar</menu-button>\n <div class="hands-container">\n <img class="welcome-hands" src=${i}>\n <img class="welcome-hands" src=${a}>\n <img class="welcome-hands" src=${s}>\n </div>\n `,t.classList.add("welcome-container");return t.querySelector(".welcome-button").addEventListener("click",(()=>{e.goTo("/index")})),t}i=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("af5bb");const l={data:{currentGame:{myPlay:"",computerPlay:""},history:[],results:{myScore:0,computerScore:0}},listeners:[],setMove(e,t){this.getState().currentGame[t]=e},whoWins(e,t){if("papel"==e&&"piedra"==t||"tijeras"==e&&"papel"==t||"piedra"==e&&"tijeras"==t)return l.setPoints("myScore"),"victoria";if("papel"==e&&"tijeras"==t||"tijeras"==e&&"piedra"==t||"piedra"==e&&"papel"==t)return l.setPoints("computerScore"),"derrota";return"tijeras"==e&&"tijeras"==t||"piedra"==e&&"piedra"==t||"papel"==e&&"papel"==t?"empate":void 0},setPoints(e){const t=l.getState(),n=t.results[e]+1;t.results[e]=n},pushNewGameHistory(e){l.getState().history.push(e)},definePlay(e,t){const n=l.getState().currentGame;l.setMove(e,"myPlay"),l.setMove(t,"computerPlay");const o=n.myPlay,r=n.computerPlay,a=l.whoWins(o,r),s={myPlay:o,computerPlay:r};l.pushNewGameHistory(s);const i=l.getState();return l.setState(i),a},getState(){return this.data},setState(e){this.data=e,console.log("El nuevo estado es:",e);for(const e of this.listeners)e();localStorage.setItem("game",JSON.stringify(e))},subscribe(e){this.listeners.push(e)},restoreState(){const e=l.getState();if(localStorage.game){const e=localStorage.getItem("game"),t=JSON.parse(e);l.data=t}else l.setState(e)}};const d=[{path:/\/welcome/,component:c},{path:/\/desafio-m5/,component:c},{path:/\/index/,component:function(e){const t=document.createElement("main");return t.innerHTML=`\n <in-title>Presioná jugar\n y elegí: piedra, papel o tijera antes de que pasen los 3 segundos.</in-title>\n <menu-button class="welcome-button">Jugar!</menu-button>\n <div class="hands-container">\n <img class="welcome-hands" src=${i}>\n <img class="welcome-hands" src=${a}>\n <img class="welcome-hands" src=${s}>\n </div>\n `,t.classList.add("welcome-container"),t.querySelector(".welcome-button").addEventListener("click",(()=>{e.goTo("/game")})),t}},{path:/\/game/,component:function(e){const t=document.createElement("main");t.classList.add("game-container");let n=3,o=0;function r(n){const o=function(){const e=["piedra","papel","tijeras"],t=Math.floor(3*Math.random()+0);return e[t]}();t.innerHTML=`\n     <div class="final-game-container"></>\n     <hand-comp jugada=${o}></hand-comp>\n     <hand-comp jugada=${n}></hand-comp>\n     </div>\n     `;const r=t.getElementsByTagName("hand-comp");r[1].shadowRoot.children[0].innerHTML="\n    .hand{\n      height: 240px;\n      position: absolute;\n      bottom: 5%;\n      cursor: pointer;\n    }\n  ",r[0].shadowRoot.children[0].innerHTML="\n    .hand{\n      height: 220px;\n      position: absolute;\n      top: 5%;\n      cursor: pointer;\n      transform: rotate(180deg);\n    }\n  ";const a=l.definePlay(n,o);setTimeout((()=>{"victoria"==a&&e.goTo("/victoria"),"derrota"==a&&e.goTo("/derrota"),"empate"==a&&e.goTo("/game")}),2e3)}t.innerHTML='\n <progress-ring stroke="20" radius="150" progress="0" contador="3"></progress-ring>\n  \n  <div class="player-container"></>\n  <hand-comp jugada="tijeras"></hand-comp>\n  <hand-comp jugada="papel"></hand-comp>\n  <hand-comp jugada="piedra"></hand-comp>\n  </div>\n ';const a=setInterval((function(){const e=t.children[0],r=e.shadowRoot.children[0].children[0].children[0];n--,o+=33.3,r.textContent=`${n}`,e.setAttribute("progress",`${o}`)}),1e3);var s;return s=setTimeout((()=>{clearInterval(a),location.reload()}),3999),function(){const e=t.querySelector(".player-container").children;for(const t of e)t.addEventListener("play",(e=>{let t=e.detail.jugada;clearInterval(a),clearTimeout(s),setTimeout((()=>{r(t)}),1e3)}))}(),t}},{path:/\/victoria/,component:function(e){const t=l.getState(),n=t.results.myScore,o=t.results.computerScore,r=document.createElement("main");return r.classList.add("win-container"),r.innerHTML=`\n\n <div class="win-star">Ganaste!</div>\n <div class="score-table">\n <h3>Score</h3>\n <h4>Vos: ${n}</h4>\n <h4>Maquina:  ${o}</h4>\n </div>\n <menu-button class="welcome-button">Volver a jugar</menu-button>\n `,r.querySelector(".welcome-button").addEventListener("click",(()=>{e.goTo("/game")})),r}},{path:/\/derrota/,component:function(e){const t=l.getState(),n=t.results.myScore,o=t.results.computerScore,r=document.createElement("main");return r.classList.add("loss-container"),r.innerHTML=`\n\n <div class="loss-star">Perdiste!</div>\n <div class="score-table">\n <h3>Score</h3>\n <h4>Vos: ${n}</h4>\n <h4>Maquina: ${o}</h4>\n </div>\n <menu-button class="welcome-button">Volver a jugar</menu-button>\n `,r.querySelector(".welcome-button").addEventListener("click",(()=>{e.goTo("/game")})),r}}];class u extends HTMLElement{constructor(){super(),this.render()}render(){var e=document.createElement("style");e.textContent="\n    .title{\n      margin: 0;\n      box-sizing: border-box;\n      font-family: 'Zilla Slab', serif;\n      font-weight: 700;\n      text-shadow: 0 0 2px black;\n      font-size: 75px;\n      color: #009048;\n      width: 260px;\n      letter-spacing: 2px\n    }\n\n    @media (min-width: 750px){\n          .title{\n            font-size: 80px;\n            width: 270px;\n          }\n    }\n    ";var t=this.attachShadow({mode:"open"});t.appendChild(e);var n=document.createElement("h1");n.classList.add("title"),n.textContent=this.textContent,t.appendChild(n)}}customElements.define("welcome-title",u);class m extends HTMLElement{constructor(){super(),this.render()}render(){var e=document.createElement("style");e.textContent="\n    .title{\n      box-sizing: border-box;\n      margin: 0 auto;\n      font-family: 'Zilla Slab', serif;\n      text-align: center;\n      font-style: normal;\n      font-weight: 600;\n      text-shadow: 0 0 1.5px black;\n      font-size: 45px;\n      color: #000000;\n      width: 380px;\n    }\n    ";var t=this.attachShadow({mode:"open"});t.appendChild(e);var n=document.createElement("h1");n.classList.add("title"),n.textContent=this.textContent,t.appendChild(n)}}customElements.define("in-title",m);class h extends HTMLElement{constructor(){super(),this.render()}render(){var e=document.createElement("style");e.textContent="\n    .button{\n      background-color: #006CFC;\n      border: 10px solid #001997;\n      box-sizing: border-box;\n      border-radius: 15px;\n      height: 80px;\n      width: 310px;\n      font-family: Odibee Sans;\n      font-size: 45px;\n      line-height: 50px;\n      color: #D8FCFC;\n      cursor: pointer;\n      letter-spacing: 1px;\n    }\n\n    .button:active{\n      background-color: #001997;\n      border: 10px solid #006CFC;\n      color: white\n    }\n    \n   @media (min-width: 750px){\n     .button{\n       width: 340px;\n     }\n   }\n    ";var t=this.attachShadow({mode:"open"});t.appendChild(e);var n=document.createElement("button");n.classList.add("button"),n.textContent=this.textContent,t.appendChild(n)}}customElements.define("menu-button",h);class p extends HTMLElement{constructor(){super();const e=this.getAttribute("stroke"),t=this.getAttribute("radius");this.className="progress-ring";let n=this.getAttribute("contador");const o=t-2*e;this._circumference=2*o*Math.PI,this.root=this.attachShadow({mode:"open"});const r=document.createElement("div");r.innerHTML=`\n      <svg\n        height="${2*t}"\n        width="${2*t}"\n       >\n        <text x="120" y="180"\n        font-weight="600"\n        font-family="Zilla Slab"\n        font-size="110">\n        ${n}\n  </text>\n\n      <circle\n           stroke="black"\n           stroke-dasharray="${this._circumference} ${this._circumference}"\n           style="stroke-dashoffset:${this._circumference}"\n           stroke-width="${e}"\n           fill="transparent"\n           r="${o}"\n           cx="${t}"\n           cy="${t}"\n        />\n      </svg>\n\n      <style>\n        circle {\n          backgrund: none;\n          transition: stroke-dashoffset 0.35s;\n          transform: rotate(-90deg);\n          transform-origin: 50% 50%;\n          overflow: auto:\n        }\n      </style>\n    `,this.root.appendChild(r)}setProgress(e){const t=this._circumference-e/100*this._circumference;this.root.querySelector("circle").style.strokeDashoffset=`${t}`}static get observedAttributes(){return["progress"]}attributeChangedCallback(e,t,n){"progress"===e&&this.setProgress(n)}}window.customElements.define("progress-ring",p);class g extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.jugada=this.getAttribute("jugada")}connectedCallback(){const e=document.createElement("style");e.innerHTML="\n    .hand{\n      height: 160px;\n      position: absolute;\n      bottom: -3%;\n      cursor: pointer;\n    }\n\n    @media (min-width: 750px){\n      .hand{\n        height: 240px\n      }\n    }\n  ","papel"==this.jugada&&(this.img=s),"tijeras"==this.jugada&&(this.img=i),"piedra"==this.jugada&&(this.img=a),this.shadow.appendChild(e),this.render()}render(){const e=document.createElement("div"),t=document.createElement("img");t.setAttribute("src",this.img),t.classList.add("hand"),e.appendChild(t),e.addEventListener("click",(()=>{t.style.bottom="10%";var e=new CustomEvent("play",{detail:{jugada:this.jugada}});this.dispatchEvent(e)})),this.shadow.appendChild(e)}}customElements.define("hand-comp",g),function(){l.restoreState();!function(e){function t(e){history.pushState({},"",e),n(e)}function n(n){e.innerHTML="";for(const o of d)if(o.path.test(n)){const n=o.component({goTo:t});e.appendChild(n)}}"/"==location.pathname?t("/welcome"):n(location.pathname),location.host.includes("github.io")&&t("/desafio-m5"),window.onpopstate=()=>{n(location.pathname)}}(document.querySelector(".root"))}();
//# sourceMappingURL=index.22968a44.js.map
